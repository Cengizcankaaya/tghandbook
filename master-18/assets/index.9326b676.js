var ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var W=(t,e,n)=>e in t?ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||(e={}))ae.call(e,n)&&W(t,n,e[n]);if(P)for(var n of P(e))se.call(e,n)&&W(t,n,e[n]);return t},O=(t,e)=>te(t,ne(e));const re=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}};re();var ie="./assets/speen.d7e67bf9.svg";const ce="https://tgproxy.ovo.ovh/wiki";async function oe(t){const n=`/api.php?action=parse&page=${encodeURIComponent(t)}&prop=text&format=json`;return(await(await fetch(ce+n)).json()).parse.text["*"]}function A(){return new Promise(t=>{requestAnimationFrame(()=>t())})}function le(t){return new Promise(e=>{setTimeout(()=>e(),t)})}function de(t,e){return t.startsWith(e)?t.slice(e.length):t}const N=[];function _(t){N.push(...t)}function ue(){const t=document.createElement("ul"),e=document.createElement("div");let n=0,s=[],a=!1;const r=o=>{a&&document.querySelector(".page.active").dataset.tab!==o.page&&q.instance.setActive(o.page),o.element.scrollIntoView({block:o.alignment,inline:"nearest",behavior:"auto"}),document.querySelectorAll(".bgus_fz_selected").forEach(f=>f.classList.remove("bgus_fz_selected")),o.element.classList.add("bgus_fz_selected")},i=o=>{n=o,t.querySelectorAll(".selected").forEach(f=>f.classList.remove("selected")),t.children[o].classList.add("selected"),r(s[o])},c=async(o,f)=>{if(!o||o.length<1)return;let p=N;if(a=o[0]==="@",a?o=o.substr(1):p=N.filter(m=>m.page===f),o.length<1)return;const g=o.split("").map(m=>["\\","]","^"].includes(m)?`\\${m}`:m).join("])(.*?)(["),v=new RegExp(`^(.*?)([${g}])(.*?)$`,"i");s=p.map(m=>O(j({},m),{matches:(m.name.match(v)||[]).slice(1).reduce((u,h,b,k)=>(b<2?u.push([h]):k[b-1]===""?u[u.length-1].push(h):h!==""&&u.push([h]),u),[]).map(u=>u.join(""))})).filter(m=>m.matches.length>0).sort((m,u)=>{const h=m.id,b=m.matches,k=u.id,L=u.matches;if(b.length===1&&L.length!==1)return-1;if(b.length!==1&&L.length===1)return 1;const G=T=>!/[^a-zA-Z0-9]*$/.test(T),B=b.filter(G).length-L.filter(G).length;if(B!==0)return B;for(let T=0;T<Math.min(b.length,L.length)-1;T+=2){const D=b[T].length-L[T].length;if(D!==0)return D}const R=b.length-L.length;return R!==0?R:h-k}),await A(),t.innerHTML="",s.forEach(m=>{const u=document.createElement("li");if(m.matches.forEach((h,b)=>{const k=document.createElement(b%2?"strong":"span");k.appendChild(document.createTextNode(h)),u.appendChild(k)}),a){const h=document.createElement("span");h.className="source",h.appendChild(document.createTextNode(m.page.replace(/_/g," "))),u.appendChild(h)}u.addEventListener("click",()=>{r(m),e.classList.add("bgus_hidden")}),t.appendChild(u)}),s.length>0&&i(0)},d=document.createElement("input");let l="";return d.addEventListener("keyup",o=>{switch(o.code){case"Escape":e.classList.add("bgus_hidden");return;case"Enter":s.length>0&&r(s[n]),e.classList.add("bgus_hidden");return;case"ArrowDown":n<s.length-1&&i(n+1);return;case"ArrowUp":n>0&&i(n-1);return;default:if(d.value!==l){const f=document.querySelector(".page.active");c(d.value,f.dataset.tab),l=d.value}}}),document.body.addEventListener("keyup",o=>{o.code==="KeyS"&&d.focus()}),document.body.addEventListener("keydown",o=>{if(o.shiftKey)switch(o.code){case"KeyS":{e.classList.remove("bgus_hidden"),d.value="";break}}}),e.id="bgus_fz_searchbox",e.classList.add("bgus_hidden"),e.appendChild(d),e.appendChild(t),e}function I(t,e){let n=t.parentElement;for(;n!=null&&!e(n);)n=n.parentElement;return n}function E(t){const[e,...n]=Array.from(t.querySelectorAll("tr")),s=Array.from(e.querySelectorAll("th")).map(a=>a.textContent.trim());return n.map(a=>{const r={};return a.querySelectorAll("td,th").forEach((i,c)=>{r[s[c]]=i,r[`$row${c}`]=i}),r})}function y(t,e,n){const s=document.createElement("table");if(e.length<1)return s;const a=document.createElement("tr");return t.forEach(r=>{const i=document.createElement("th");i.appendChild(document.createTextNode(r)),a.appendChild(i)}),s.appendChild(a),e.forEach(r=>{const i=document.createElement("tr");t.forEach((c,d)=>{let l=null;r[c].tagName==="TD"||r[c].tagName==="TH"?l=r[c]:(l=document.createElement("td"),d===0&&l.classList.add("btab-name"),l.appendChild(r[c])),i.appendChild(l)}),n&&n(r,i),s.appendChild(i)}),s}function fe(t){t.querySelectorAll("table.wikitable > tbody > tr:not(:first-child) > td:nth-child(2), .tooltiptext").forEach(e=>{const n=e.cloneNode();Array.from(e.childNodes).forEach(s=>{s instanceof HTMLParagraphElement?n.append(...s.childNodes):n.append(s)}),e.parentNode.replaceChild(n,e)}),Array.from(t.querySelectorAll("td")).filter(e=>e.textContent.indexOf(" part")>=0).forEach(e=>{e.innerHTML=e.innerHTML.replace(/((\d+)\s+(?:parts?|units?))(.*?(?:<\/a>|\n|$))/gi,(n,...[s,a,r])=>`<label class="bgus_part ${r.includes("</a>")?"bgus_part_tooltip":""}" data-amount="${a}"><input type="checkbox" class='bgus_checkbox bgus_hidden'/> <span class="bgus_part_label" data-src="${s}">${s}</span></label>${r.replace(/(<a .+?<\/a>)/gi,'<span class="bgus_nobreak bgus_nested_element">$1<span class="bgus_twistie"></span></span>')}`)}),t.querySelectorAll(".bgus_part").forEach(e=>{"parts"in e.parentElement.dataset?e.parentElement.dataset.parts=(parseInt(e.parentElement.dataset.parts,10)+parseInt(e.dataset.amount,10)).toString():e.parentElement.dataset.parts=e.dataset.amount}),t.querySelectorAll("div[data-name] .wikitable.sortable tr").forEach(e=>{const s=I(e,h=>"name"in h.dataset&&h.dataset.name!=="").dataset.name;if(e.querySelector("td")===null){e.querySelectorAll("th").forEach((b,k)=>{if(k<2){b.classList.add("table-head");return}b.parentElement.removeChild(b)});return}const a=Array.from(e.querySelectorAll("td")).slice(1);let r=null,i=null,c=null,d=null,l=null,o=null,f=null,p=null;switch(s){case"Components":[c,l]=a;break;case"Virology Recipes":[l]=a;break;case"Narcotics":[c,l,o,f,p]=a;break;case"Other Reagents":[c,l,o]=a;break;case"Explosive Strength":[r,l,i]=a;break;case"Mutation Toxins":[l,o]=a;break;default:[c,d,l,o,f,p]=a}const g=e.querySelector("th"),v=g.querySelector("p"),m=v==null?void 0:v.innerHTML;v&&g.removeChild(v);let u=`<div class="reagent-header btab-name">${g.innerHTML}</div>`;m&&(u+=`<p class="ph-data">${de(m,"<br>")}</p>`),d&&(u+=`<p class="treatment">${d.innerHTML}</p>`),o&&(u+=`<p class="metabolism">${o.innerHTML}</p>`),r&&(u+=`<p class="conditions">${r.innerHTML}</p>`),i&&(u+=`<p class="explosive">${i.innerHTML}</p>`),p&&p.innerHTML.trim()!=="N/A"&&(u+=`<p class="addiction">${p.innerHTML}</p>`),f&&f.innerHTML.trim()!=="N/A"&&(u+=`<p class="overdose">${f.innerHTML}</p>`),l&&(u+=`<p>${l.innerHTML}</p>`),c&&(u+=`<div class="ph">${c.innerHTML}</div>`),g.classList.add("reagent-ext"),g.innerHTML=u,l&&l.parentElement.removeChild(l),d&&d.parentElement.removeChild(d),o&&o.parentElement.removeChild(o),r&&r.parentElement.removeChild(r),i&&i.parentElement.removeChild(i),f&&f.parentElement.removeChild(f),p&&p.parentElement.removeChild(p),c&&c.parentElement.removeChild(c)}),t.querySelectorAll(".wikitable.sortable").forEach(e=>{e.classList.add("tgh-btab")})}function me(t){t.querySelectorAll(".bgus_part_tooltip > .bgus_checkbox").forEach(a=>{const r=a.parentElement.nextElementSibling;a.addEventListener("click",()=>{r.querySelectorAll(".bgus_checkbox").forEach(i=>{i.checked=a.checked})})}),t.querySelectorAll(".bgus_nested_element").forEach(a=>{a.addEventListener("click",()=>{a.classList.toggle("bgus_collapsed")})});const e=(a,r)=>{a.forEach(i=>{const c=i.parentElement.dataset.amount,d=i.parentElement.parentElement.dataset.parts,l=Math.ceil(r*(c/d));i.innerHTML=`${l} ml`;let o=i.parentElement.nextElementSibling;for(;o;){if(o.classList.contains("tooltip")){const f=[];o.querySelector(".tooltiptext").childNodes.forEach(p=>{p.classList&&p.classList.contains("bgus_part")&&f.push(p.querySelector(".bgus_part_label"))}),e(f,l)}if(o.classList.contains("bgus_part"))break;o=o.nextElementSibling}})},n=Array.from(t.querySelectorAll("table.wikitable > tbody > tr:not(:first-child)"));_(Array.from(t.querySelectorAll("table.wikitable > tbody > tr:not(:first-child) th .reagent-header")).map((a,r)=>({page:"Guide_to_chemistry",name:a.textContent.trim().replace(/\n.+$/gm,"").replace("\u25AE",""),element:a.parentElement,alignment:"center",id:r}))),document.body.addEventListener("keydown",a=>{if(a.shiftKey)switch(a.code){case"KeyC":{t.classList.toggle("bgus_cbox"),t.querySelectorAll(".bgus_checkbox:checked").forEach(r=>{r.checked=!1});break}case"KeyB":{const r=parseInt(prompt("Write target ml (0 to reset)","90"),10);if(Number.isNaN(r)||r<=0){t.querySelectorAll(".bgus_part_label").forEach(i=>{i.innerHTML=i.dataset.src});return}e(t.querySelectorAll("td > .bgus_part > .bgus_part_label"),+r);break}}});const s=/<b>(.+):<\/b>(.+)/i;n.forEach(a=>{a.querySelectorAll(".ph").forEach(r=>{const i=[],c=document.createElement("table"),d=document.createElement("tr"),l=document.createElement("tr");c.appendChild(d),c.appendChild(l),r.innerHTML.split("<br>").forEach(o=>{if(o.trim()==="N/A")return;const f=s.exec(o);if(!f){i.push(o);return}const[p,g]=f.slice(1).map(u=>u.trim()),v=document.createElement("th");v.appendChild(document.createTextNode(p)),d.appendChild(v);const m=document.createElement("td");m.appendChild(document.createTextNode(g)),l.append(m)}),r.innerHTML="",d.children.length>0&&r.appendChild(c),r.innerHTML+=`<p>${i.join("<br>")}</p>`,r.classList.add("ph-ext")})})}function pe(t){const e=t.querySelector("#Simple_Diseases .wikitable"),n=E(e).map(c=>{const d=document.createElement("td");return d.innerHTML=`
    <div class="disease-name btab-name">${c["Disease Name"].innerHTML}</div>
    <p class="vector">${c["Vector Name"].innerHTML}</p>
    <p class="source">${c.Source.innerHTML}</p>
    <p class="spread">${c.Spread.innerHTML}</p>
    <p class="description">${c.Description.innerHTML}</p>
    `,{Disease:d,Cure:c.Cure}}),s=y(["Disease","Cure"],n);s.className="disease-ext tgh-btab wikitable",e.replaceWith(s);const a=t.querySelector("#Symptoms_Table .wikitable"),r=E(a).sort((c,d)=>parseInt(c.Level.textContent,10)-parseInt(d.Level.textContent,10)).map(c=>{const d=document.createElement("td");d.innerHTML=`
    <div class="disease-name btab-name">${c.Symptom.innerHTML}</div>
    <p class="level">${c.Level.innerHTML}</p>
    <p class="chemical">${c["Required Chemical"].innerHTML}</p>
    <p class="description">${c.Effect.innerHTML}</p>
    `;const l=document.createElement("td");l.innerHTML=`
    <table class="stats">
      <tr><th>Stealth</th><td>${c.Stealth.innerHTML}</td></tr>
      <tr><th>Resistance</th><td>${c.Resistance.innerHTML}</td></tr>
      <tr><th>Stage speed</th><td>${c["Stage speed"].innerHTML}</td></tr>
      <tr><th>Transmission</th><td>${c.Transmission.innerHTML}</td></tr>
    </table>
    `;const o=c["Threshold (hover mouse over for details)"];return o.innerHTML=`<ul class="thresholds"><li>${o.innerHTML.split(",").join("</li><li>")}</li></ul>`,{Symptom:d,Stats:l,Thresholds:o}}),i=y(["Symptom","Stats","Thresholds"],r);i.className="symptoms-ext tgh-btab wikitable",a.replaceWith(i)}function he(t){const e=Array.from(t.querySelectorAll(".disease-ext tr:not(:first-child)"));_(e.map((s,a)=>({page:"Infections",name:s.querySelector(".disease-name").textContent.trim(),element:s,alignment:"center",id:a})));const n=Array.from(t.querySelectorAll(".symptoms-ext > tbody > tr:not(:first-child)"));_(n.map((s,a)=>({page:"Infections",name:s.querySelector(".disease-name").textContent.trim(),element:s,alignment:"center",id:a})))}function be(t){const e=[],n=[];t.querySelectorAll(".wikitable").forEach(l=>{const o=l.querySelector("tr");!o.innerHTML.includes("Picture")||(o.childElementCount===3&&e.push(l),o.childElementCount>3&&n.push(l))}),e.forEach(l=>{const o=l.querySelector("tr").querySelectorAll("th,td"),f=o[1].innerText.trim(),p=o[2].innerText.trim(),g=[];l.querySelectorAll("tr:not(:first-child)").forEach(m=>{const u=m.querySelectorAll("th,td"),h=document.createElement("td");h.innerHTML=`<div class="food-block">
<div class="food-pic btab-pic">${u[0].innerHTML}</div>
<div class="food-name btab-name">${u[1].innerHTML}</div>
</div>
`,g.push({[f]:h,[p]:u[2]})});const v=y([f,p],g);v.className="food-base-ext tgh-btab wikitable",l.replaceWith(v)});const s=t.querySelector("#Recipe_Books .wikitable"),a=E(s).map(l=>{const o=document.createElement("td");return o.innerHTML=`<div class="food-pic btab-pic">${l.Picture.innerHTML}</div>
<div class="food-name btab-name">${l.Book.innerHTML}</div>
<p class="unlocks">${l.Unlocks.innerHTML}</p>
<p class="notes">${l.Notes.innerHTML}</p>
`,{Book:o,"Where to get":l["Where to get"]}}),r=y(["Book","Where to get"],a);r.className="book-ext wikitable",s.replaceWith(r),n.forEach(l=>{const o=l.querySelector("tr").querySelectorAll("td,th"),f=o[0].innerText.trim(),p=o[1].innerText.trim(),g=o[2].innerText.trim(),v=E(l).map(u=>{const h=document.createElement("td");h.innerHTML=`
<div class="food-pic btab-pic">${u[f].innerHTML}</div>
<div class="food-name btab-name">${u[p].innerHTML}</div>
${"Nutritional Value"in u?`<p class="nutrition">${u["Nutritional Value"].innerHTML}</p>`:""}
${"Notes"in u?`<p class="notes">${u.Notes.innerHTML}</p>`:""}
`;const b=u[g].innerHTML.split(/,|\+/gi).map(k=>`<p>${k.trim()}</p>`);return u[g].innerHTML=b.join(""),{Food:h,Ingredients:u[g]}}),m=y(["Food","Ingredients"],v);m.className="recipe-ext tgh-btab wikitable",l.replaceWith(m)});const i=t.querySelector("#Custom_Recipes .wikitable"),c=E(i).map(l=>(l["Custom food"].innerHTML=`<div class="food-name">${l["Custom food"].innerHTML}</div>`,l)),d=y(Object.keys(c[0]),c);d.className="food-base-ext tgh-btab wikitable",i.replaceWith(d)}function ge(t){t.querySelectorAll(".bgus_nested_element").forEach(n=>{n.addEventListener("click",()=>{n.classList.toggle("bgus_collapsed")})});const e=Array.from(t.querySelectorAll(".drink-ext tr:not(:first-child), .food-base-ext tr:not(:first-child), .food-ext tr:not(:first-child), .recipe-ext tr:not(:first-child)"));_(e.map((n,s)=>({page:"Guide_to_food",name:n.querySelector(".food-name").textContent.trim(),element:n,alignment:"center",id:s})))}function ve(t){const e=[],n=[];t.querySelectorAll(".wikitable").forEach(s=>{const a=s.querySelector("tr");if(!!a.innerHTML.includes("Picture")){if(a.childElementCount===3){n.push(s);return}e.push(s)}}),e.forEach(s=>{const a=E(s).map(i=>{const c=document.createElement("td");c.innerHTML=`
<div class="food-pic btab-pic">${i.Picture.innerHTML}</div>
<div class="food-name btab-name">${i.Cocktail.innerHTML}</div>
<p class="strength">${i.Strength.innerHTML}</p>
<p class="description">${i["Drink Description"].innerHTML}</p>
${"Notes"in i?`<p class="notes">${i.Notes.innerHTML}</p>`:""}
`;const d=i.Ingredients.innerHTML.split(/,|\+/gi).map(l=>`<p>${l.trim()}</p>`);return i.Ingredients.innerHTML=d.join(""),{Drink:c,Ingredients:i.Ingredients}}),r=y(["Drink","Ingredients"],a);r.className="drink-ext tgh-btab wikitable",s.replaceWith(r)}),n.forEach(s=>{const a=E(s).map(i=>{const c=document.createElement("td");return c.innerHTML=`<div class="food-pic btab-pic">${i.Picture.innerHTML}</div>
      <div class="food-name btab-name">${i.Dispenses.innerHTML}</div>`,{Dispenses:c,Description:i.Description}}),r=y(["Dispenses","Description"],a);r.className="junk-ext tgh-btab wikitable",s.replaceWith(r)})}function ye(t){const e=Array.from(t.querySelectorAll(".drink-ext tr:not(:first-child), .food-base-ext tr:not(:first-child), .food-ext tr:not(:first-child), .junk-ext tr:not(:first-child)"));_(e.map((n,s)=>({page:"Guide_to_drinks",name:n.querySelector(".food-name").textContent.trim(),element:n,alignment:"center",id:s})))}function S(t,e){const n=Array.from(t.querySelectorAll(".mw-headline-cont[id][data-name]"));_(n.map((s,a)=>({id:a,page:e,name:s.dataset.name.trim(),element:s,alignment:"start"})))}const V={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var x=(t=>(t[t.RGB=0]="RGB",t[t.HEX=1]="HEX",t))(x||{});function X({h:t,s:e,v:n}){const s=Math.floor(t*6),a=t*6-s,r=n*(1-e),i=n*(1-a*e),c=n*(1-(1-a)*e);switch(s%6){case 0:return{r:n,g:c,b:r};case 1:return{r:i,g:n,b:r};case 2:return{r,g:n,b:c};case 3:return{r,g:i,b:n};case 4:return{r:c,g:r,b:n};case 5:return{r:n,g:r,b:i};default:throw new Error("unreacheable")}}function Z({r:t,g:e,b:n}){const s=Math.max(t,e,n),a=Math.min(t,e,n),r=s,i=s-a,c=s===0?0:i/s;let d;if(s===a)d=0;else{switch(s){case t:d=(e-n)/i+(e<n?6:0);break;case e:d=(n-t)/i+2;break;case n:d=(t-e)/i+4;break;default:throw new Error("unreacheable")}d/=6}return{h:d,s:c,v:r}}function ke(t){if(V[t])return M(V[t]);const e=document.createElement("div");e.style.color=t,document.body.appendChild(e);const s=window.getComputedStyle(e).getPropertyValue("color");return document.body.removeChild(e),M(s)}function M(t){if(t[0]==="#"){const e=(t.length-1)/3,n=[17,1,.062272][e-1];return{r:Math.round(parseInt(t.substr(1,e),16)*n)/256,g:Math.round(parseInt(t.substr(1+e,e),16)*n)/256,b:Math.round(parseInt(t.substr(1+2*e,e),16)*n)/256}}if(t.startsWith("rgb")){const e=t.split("(")[1].split(")")[0].split(",").map(n=>parseInt(n,10)).map(Math.round);return{r:e[0]/256,g:e[1]/256,b:e[2]/256}}return ke(t)}function J(t,e){const n=Math.round(t.r*255),s=Math.round(t.g*255),a=Math.round(t.b*255);switch(e){case 0:return`rgb(${n}, ${s}, ${a})`;case 1:{const r=`00${n.toString(16)}`.slice(-2),i=`00${s.toString(16)}`.slice(-2),c=`00${a.toString(16)}`.slice(-2);return`#${r}${i}${c}`}default:return"#000"}}function H(t,e){const n=M(t),s=Z(n);s.s<.15?(s.h=.6,s.s=.5,s.v=Math.max(.2,1-s.v)):s.v>.5&&(s.v=.4,s.s>.2&&(s.s=Math.min(1,s.s+.2)));const a=X(s);return J(a,e)}function Ee(t,e){const n=M(t),s=Z(n);s.v<.5&&(s.v=.8),s.s>.7&&(s.s=Math.min(1,s.s-.3),s.v=1),Math.abs(s.h-.666)<.1&&(s.h-=.13,s.v=Math.min(1,s.v+.1));const a=X(s);return J(a,e)}function _e(t){return t==="H1"||t==="H2"||t==="H3"}function Se(t,e){const n=document.createElement("h1");n.className="pageheader",n.appendChild(document.createTextNode(e.replace(/_/g," "))),t.insertBefore(n,t.firstChild),t.querySelectorAll("img").forEach(a=>a.setAttribute("loading","lazy")),t.querySelectorAll(".mw-editsection").forEach(a=>{a.parentElement.removeChild(a)}),t.querySelectorAll("*[bgcolor]").forEach(a=>{let r=a.getAttribute("bgcolor");r.length===6&&!Number.isNaN(parseInt(r,16))&&(r=`#${r}`),a.setAttribute("bgcolor",H(r,x.HEX).slice(1))}),t.querySelectorAll("*[style]").forEach(a=>{a.style.backgroundColor!==""&&(a.style.backgroundColor=H(a.style.backgroundColor,x.RGB)),a.style.background!==""&&(a.style.backgroundColor=H(a.style.background,x.RGB))}),t.querySelectorAll("*[color]").forEach(a=>{let r=a.getAttribute("color");r.length===6&&!Number.isNaN(parseInt(r,16))&&(r=`#${r}`),a.setAttribute("color",Ee(r,x.HEX).slice(1))}),t.querySelectorAll("table[width]").forEach(a=>{a.setAttribute("width","100%")}),t.querySelectorAll("table[style]").forEach(a=>{a.style.width!==""&&(a.style.width="100%")}),t.querySelectorAll("table .floatright > a > img").forEach(a=>{const r=I(a,c=>c instanceof HTMLTableRowElement),i=document.createElement("td");r.appendChild(i)});const s=t.querySelector("#toc");if(s){const a=s.querySelector("h2");s.parentNode.insertBefore(a,s);const r=s.querySelector("#toctitle");r!=null&&s.removeChild(r)}t.querySelectorAll("h1,h2,h3").forEach(a=>{const r=a.parentNode,i=document.createElement("div");for(r.insertBefore(i,a);a.nextSibling&&!_e(a.nextSibling.nodeName);){const c=a.nextSibling;r.removeChild(c),i.appendChild(c)}a.parentNode.removeChild(a),i.insertBefore(a,i.firstChild),i.className="mw-headline-cont"}),t.querySelectorAll("h1 .mw-headline, h2 .mw-headline, h3 .mw-headline").forEach(a=>{const r=I(a,i=>i.classList.contains("mw-headline-cont"));r&&r.querySelectorAll("h1 .mw-headline, h2 .mw-headline, h3 .mw-headline").length===1?(r.id=a.id,a.id+="-span",r.dataset.name=a.textContent):(a.dataset.name=a.textContent,a.classList.add("mw-headline-cont"))})}function Le(t){t.querySelectorAll("div.hidden").forEach(e=>{e.style.display="block",e.style.opacity="1"}),t.querySelector(".action_buttons").style.display="none",t.classList.remove("center")}function Te(t){const e=t.querySelector(".action_buttons");t.querySelectorAll("div[data-name]").forEach(n=>{const{name:s}=n.dataset,a=document.createElement("button");a.className="pretty-button",a.appendChild(document.createTextNode(s)),a.addEventListener("click",async()=>{Le(t),await A(),n.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}),e.appendChild(a)})}function Ce(t){const e=t.querySelector("#Grindables .wikitable"),n=E(e).map(a=>{var i,c;const r=document.createElement("td");return r.innerHTML=`
    <div class="grindable-name btab-name">${a.Chemical.innerHTML}</div>
    <p class="notes">${(c=(i=a.Notes)==null?void 0:i.innerHTML)!=null?c:""}</p>
    `,{Chemical:r,Sources:a.Sources}}),s=y(["Chemical","Sources"],n);s.className="grindable-ext tgh-btab wikitable",e.replaceWith(s)}function xe(t){const e=Array.from(t.querySelectorAll(".grindable-ext tr:not(:first-child)"));_(e.map((n,s)=>({page:"Guide_to_Ghetto_Chemistry",name:n.querySelector(".grindable-name").textContent.trim(),element:n,alignment:"center",id:s})))}function we(t){const e=t.querySelectorAll(".wikitable");Array.from(e).filter(n=>{var s,a;return(a=(s=n.querySelector("th"))==null?void 0:s.textContent)==null?void 0:a.includes("Role")}).forEach(n=>{const s=E(n).map(r=>{const i=document.createElement("td");return i.innerHTML=`
	  <div class="role-name btab-name">${r.Role.innerHTML}</div>
	  <p class="description">${r.Description.innerHTML}</p>
	  `,{Role:i,"How to play":r["How to Play"]}}),a=y(["Role","How to play"],s);a.className="role-ext tgh-btab wikitable",n.replaceWith(a)})}function Me(t){const e=Array.from(t.querySelectorAll(".role-ext > tbody > tr:not(:first-child)"));_(e.map((n,s)=>({page:"Mafia",name:n.querySelector(".role-name").textContent.trim(),element:n,alignment:"center",id:s})))}function Ae(t){const e=t.querySelectorAll(".wikitable");Array.from(e).filter(n=>{var s,a;return(a=(s=n.querySelector("th:nth-child(2)"))==null?void 0:s.textContent)==null?void 0:a.includes("Name")}).forEach(n=>{const s=E(n).map(r=>{console.log(r);const i=document.createElement("td");return i.innerHTML=`
	<div class="critter-pic btab-pic">${r.$row0.innerHTML}</div>
	  <div class="critter-name btab-name">${r.Name.innerHTML}</div>
	  `,{Critter:i,Description:r.Description}}),a=y(["Critter","Description"],s);a.className="critter-ext tgh-btab wikitable",n.replaceWith(a)})}function qe(t){const e=Array.from(t.querySelectorAll(".critter-ext > tbody > tr:not(:first-child)"));_(e.map((n,s)=>({page:"Critters",name:n.querySelector(".critter-name").textContent.trim(),element:n,alignment:"center",id:s})))}const C={Infections:"f7599d8e6598d2eca4aa9869262d0681983a95ec",Guide_to_food:"f7599d8e6598d2eca4aa9869262d0681983a95ec",Guide_to_drinks:"f7599d8e6598d2eca4aa9869262d0681983a95ec",Guide_to_chemistry:"f7599d8e6598d2eca4aa9869262d0681983a95ec",Guide_to_Ghetto_Chemistry:"f7599d8e6598d2eca4aa9869262d0681983a95ec",Mafia:"87d3bd9890395d4c01e435e895ac05aac3515047",Critters:"87d3bd9890395d4c01e435e895ac05aac3515047",$DEFAULT:"f7599d8e6598d2eca4aa9869262d0681983a95ec"},He=440;function $e(t,e){try{Se(t,e)}catch{console.error(`Error processing page: ${e}`)}try{switch(e){case"Guide_to_chemistry":fe(t);break;case"Infections":pe(t);break;case"Guide_to_food":be(t);break;case"Guide_to_drinks":ve(t);break;case"Guide_to_Ghetto_Chemistry":Ce(t);break;case"Mafia":we(t);break;case"Critters":Ae(t);break;default:}}catch(n){console.error(`Error processing page: ${e} (specific enhancements)`),console.error(n)}}function Ne(t,e){document.querySelectorAll("img[width]").forEach(n=>{const s=n.getAttribute("width");if(s.includes("%"))return;parseInt(s,10)>He&&(n.setAttribute("width","100%"),n.removeAttribute("height"))})}function Q(t,e){switch(e){case"Guide_to_chemistry":S(t,e),me(t);break;case"Infections":S(t,e),he(t);break;case"$Welcome":Te(t);break;case"Guide_to_food":S(t,e),ge(t);break;case"Guide_to_drinks":S(t,e),ye(t);break;case"Guide_to_Ghetto_Chemistry":S(t,e),xe(t);break;case"Mafia":S(t,e),Me(t);break;case"Critters":S(t,e),qe(t);break;default:S(t,e);break}}class Ie{constructor(e="tg-cache",n="keyval"){this.storeName=n,this.dbp=new Promise((s,a)=>{const r=indexedDB.open(e,1);r.onerror=()=>a(r.error),r.onsuccess=()=>s(r.result),r.onupgradeneeded=()=>{r.result.createObjectStore(n)}})}withIDBStore(e,n){return this.dbp.then(s=>new Promise((a,r)=>{const i=s.transaction(this.storeName,e);i.oncomplete=()=>a(),i.onabort=()=>r(i.error),i.onerror=()=>r(i.error),n(i.objectStore(this.storeName))}))}}let $;function w(){return $||($=new Ie),$}function Ge(t,e=w()){let n;return e.withIDBStore("readonly",s=>{n=s.get(t)}).then(()=>n.result)}function Be(t,e,n,s=w()){return s.withIDBStore("readwrite",a=>{a.put({version:n,value:e},t)})}function Re(t,e=w()){return e.withIDBStore("readwrite",n=>{n.delete(t)})}function De(t=w()){return t.withIDBStore("readwrite",e=>{e.clear()})}function Pe(t=w()){const e=[];return t.withIDBStore("readonly",n=>{(n.openKeyCursor||n.openCursor).call(n).onsuccess=function(){!this.result||(e.push(this.result.key),this.result.continue())}}).then(()=>e)}var U={get:Ge,set:Be,keys:Pe,del:Re,clear:De},Y="./assets/unknown.d27620e1.svg";function z(t){const e=document.createElement("div");e.className="speen";const n=document.createElement("img");n.src=ie,e.appendChild(n),t.appendChild(e)}async function We(t,e,n){let s=null;const a=`page:${t}`,r=document.createElement("div");if(r.className="wrapper",n)try{const i=await U.get(a);if(i){const c=t in C?C[t]:C.$DEFAULT;i.version===c?(console.log(`${t}: found cached entry`),s=i.value):console.log(`${t}: found outdated cache entry`)}}catch(i){console.log(`${t}: failed to retrieve cache entry:`,i)}if(s)r.innerHTML=s,Ne();else{console.log(`${t}: fetching`);let i=0;for(;i<5;)try{s=await oe(t);break}catch{i+=1,await le(1e3)}s=s.replace(/"\/wiki/gi,'"//tgproxy.ovo.ovh/wiki'),await A(),r.innerHTML=s,console.log(`${t}: processing`),$e(r,t);const c=t in C?C[t]:C.$DEFAULT;U.set(a,r.innerHTML,c).then(()=>{console.log(`${t}: saved to cache`)})}return e.innerHTML=r.outerHTML,Q(e,t),e.classList.remove("waiting"),e}class q{constructor(e,n,s){this.sections={},this.sectionMap={},this.loading=!1,this.cacheEnabled=!0,this.sectionListContainer=e,this.tabListContainer=n,this.tabContentContainer=s,q.instance=this}setLoading(e){if(e)document.getElementById("app").classList.add("waiting"),z(this.tabContentContainer),this.tabContentContainer.querySelector(".speen").appendChild(document.createTextNode("Loading wiki pages"));else{document.getElementById("app").classList.remove("waiting");const n=this.tabContentContainer.querySelector(".speen");this.tabContentContainer.removeChild(n)}}createSection(e){const n=document.createElement("div");n.className="section",n.dataset.section=e,n.appendChild(document.createTextNode(e)),n.addEventListener("click",()=>{n.classList.contains("active")||this.showSection(e)}),this.sectionListContainer.appendChild(n),this.sections[e]={name:e,element:n,tabs:{}}}showSection(e){const n=this.sectionListContainer.querySelector(".active");n&&(n.classList.remove("active"),this.tabListContainer.querySelectorAll(`div[data-section=${n.dataset.section}]`).forEach(s=>s.classList.add("hidden"))),this.sections[e].element.classList.add("active"),this.tabListContainer.querySelectorAll(`div[data-section=${e}]`).forEach(s=>s.classList.remove("hidden"))}async openTab(e,n,s){const{icon:a,active:r,text:i}=s,c=document.createElement("div");c.className="tab",c.dataset.section=e,c.dataset.tab=n,c.addEventListener("click",()=>{c.classList.contains("active")||this.setActive(n)});const d=document.createElement("img");d.src=a||Y,c.title=n.replace(/_/gi," "),c.appendChild(d);const l=i||n.substr(n.lastIndexOf("_")+1,4);c.appendChild(document.createTextNode(l)),this.tabListContainer.appendChild(c);const o=document.createElement("div");o.className="page waiting",o.dataset.tab=n,z(o),this.tabContentContainer.appendChild(o),this.sections[e].tabs[n]={tabListItem:c,tabContentItem:o},this.sectionMap[n]=e,this.sections[e].element.classList.contains("active")||c.classList.add("hidden");const f=await We(n,o,this.cacheEnabled);f!==o&&(this.sections[e].tabs[n].tabContentItem=f),r&&this.setActive(n)}setActive(e){const n=this.sectionMap[e];if(!(n in this.sections))throw new Error("section not found");if(!(e in this.sections[n].tabs))throw new Error("tab not found");this.tabListContainer.querySelectorAll(".active").forEach(i=>i.classList.remove("active")),this.tabContentContainer.querySelectorAll(".active").forEach(i=>i.classList.remove("active")),this.sections[n].element.classList.contains("active")||this.showSection(n);const{tabListItem:a,tabContentItem:r}=this.sections[n].tabs[e];this.sections[n].element.classList.add("active"),a.classList.add("active"),r.classList.add("active")}}var je="./assets/chemistry.7abf1a2a.svg",Oe="./assets/medicine.9d3f841c.svg",Ve="./assets/plumbing.5b589422.svg",Ue="./assets/grenade.daa08c76.svg",ze="./assets/genetics.98c194dd.svg",Fe="./assets/virus.872bd377.svg",Ke="./assets/surgery.1a9a1a8a.svg",Xe="./assets/trauma.5439c4dd.svg",Ze="./assets/wound.81b70232.svg",Je="./assets/ghetto.d89b4222.svg",Qe="./assets/construction.19c2565f.svg",Ye="./assets/machines.e34c096e.svg",et="./assets/power.37f2b65c.svg",tt="./assets/solar.2cfa47c6.svg",nt="./assets/supermatter.9f86c41a.svg",at="./assets/turbine.f52e7639.svg",st="./assets/atmos.b37baa66.svg",rt="./assets/tcomm.7c30df6c.svg",it="./assets/rnd.1ece438e.svg",ct="./assets/toxins.f91862ec.svg",ot="./assets/xeno.754aabd2.svg",lt="./assets/rules.5c930ea0.svg",dt="./assets/aimod.95716c64.svg",ut="./assets/critter.1500f570.svg",ft="./assets/races.91c190bf.svg",mt="./assets/food.e92bc0f6.svg",pt="./assets/hydro.04d03df3.svg",ht="./assets/song.74f6973d.svg",bt="./assets/crate.3056f203.svg",gt="./assets/space.6906847c.svg",vt="./assets/auxbase.f179bd7c.svg",yt="./assets/robo.5d91dc4c.svg",kt="./assets/security.f6d2d4b2.svg",Et="./assets/law.2699c5e3.svg",_t="./assets/sop.44ec543e.svg",St="./assets/trial.1b0d35d8.svg",Lt="./assets/traitor.216b4872.svg",Tt="./assets/hacking.876c034b.svg",Ct="./assets/weapons.4f0c9e0f.svg",xt="./assets/uplink.67f2dd98.svg",wt="./assets/rev.7bb075cb.svg",Mt="./assets/cult.401ec22e.svg",At="./assets/nuke.9c73049c.svg",qt="./assets/malf.0cf85ba9.svg",Ht="./assets/combat.78ea4d23.svg",$t="./assets/access.b8ff5a08.svg",Nt="./assets/xmorph.cbeceba5.svg",It="./assets/abduction.afb0b54f.svg",F="./assets/mafia.5836a9ea.svg",Gt="./assets/cyto.04896182.svg",Bt="./assets/circuit.be2d3059.svg",Rt="./assets/tourist.39414369.svg",Dt="./assets/drink.1df9a595.svg";const K=[{name:"Medical",tabs:[{page:"Guide_to_medicine",icon:Oe},{page:"Guide_to_chemistry",icon:je},{page:"Guide_to_plumbing",icon:Ve},{page:"Grenade",text:"nade",icon:Ue},{page:"Infections",text:"virus",icon:Fe},{page:"Surgery",icon:Ke},{page:"Guide_to_Traumas",text:"trauma",icon:Xe},{page:"Guide_to_Wounds",text:"wound",icon:Ze},{page:"Guide_to_Ghetto_Chemistry",text:"ghetto",icon:Je}]},{name:"Engineering",tabs:[{page:"Guide_to_construction",icon:Qe},{page:"Machines",icon:Ye},{page:"Guide_to_power",text:"power",icon:et},{page:"Solars",text:"solar",icon:tt},{page:"Guide_to_the_Supermatter",text:"smatt",icon:nt},{page:"Guide_to_disposals",text:"DISP",icon:null},{page:"Gas_turbine",text:"TURB",icon:at},{page:"Guide_to_Atmospherics",text:"atmos",icon:st},{page:"Guide_to_Telecommunications",icon:rt,text:"tcomm"}]},{name:"Science",tabs:[{page:"Guide_to_Research_and_Development",text:"R&D",icon:it},{page:"Guide_to_robotics",icon:yt},{page:"Guide_to_toxins",text:"toxin",icon:ct},{page:"Guide_to_xenobiology",text:"XBIO",icon:ot},{page:"Guide_to_genetics",icon:ze},{page:"Guide_to_cytology",text:"cyto",icon:Gt},{page:"Guide_to_Circuits",text:"circ",icon:Bt}]},{name:"Service",tabs:[{page:"Guide_to_food",text:"food",icon:mt},{page:"Guide_to_drinks",text:"drnk",icon:Dt},{page:"Guide_to_Restaurant",text:"TOUR",icon:Rt},{page:"Guide_to_hydroponics",icon:pt},{page:"Supply_crates",icon:bt},{page:"Auxiliary_Base_Construction_Area",text:"aux",icon:vt}]},{name:"Security",tabs:[{page:"Guide_to_security",text:"security",icon:kt},{page:"Space_Law",text:"space law",icon:Et},{page:"Standard_Operating_Procedure",text:"S.O.P.",icon:_t},{page:"Guide_to_trials",text:"trials",icon:St},{page:"Guide_to_Combat",icon:Ht}]},{name:"Antag",tabs:[{page:"Traitor",icon:Lt},{page:"Makeshift_weapons",icon:Ct},{page:"Syndicate_Items",text:"uplk",icon:xt},{page:"Illicit_Access",icon:$t},{page:"Revolutionary",text:"rev",icon:wt},{page:"Blood_Cult",text:"cult",icon:Mt},{page:"Nuclear_Operative",text:"nuke",icon:At},{page:"Guide_to_malfunction",icon:qt},{page:"Xenos",text:"XENO",icon:Nt},{page:"Abductor",icon:It},{page:"Families",icon:F},{page:"Heretic",icon:null}]},{name:"Other",tabs:[{page:"Rules",text:"rules",icon:lt},{page:"AI_modules",text:"aimo",icon:dt},{page:"Hacking",icon:Tt},{page:"Critters",icon:ut},{page:"Guide_to_races",icon:ft},{page:"Paper_Markdown",text:"PAPER",icon:null},{page:"Songs",icon:ht},{page:"Guide_to_Space_Exploration",icon:gt},{page:"Mafia",text:"mfia",icon:F}]}];async function Pt(){const t=document.getElementById("section-list"),e=document.getElementById("tab-list"),n=document.getElementById("tabs"),s=new q(t,e,n);s.setLoading(!0),await A();const a=document.querySelector("#tabs > .speen"),r=document.createElement("div");r.className="loading-icons";let i=[];K.forEach(d=>d.tabs.forEach(l=>{const o=document.createElement("img");o.dataset.tab=l.page,o.src=l.icon||Y,o.title=l.page.replace(/_/gi," "),r.appendChild(o)})),a.appendChild(r),i=K.flatMap(d=>(s.createSection(d.name),d.tabs.map(async l=>{await s.openTab(d.name,l.page,{icon:l.icon,text:l.text}),r.removeChild(r.querySelector(`img[data-tab=${l.page}]`))})));const c=document.getElementById("Welcome");Q(c,"$Welcome"),Promise.all(i).then(()=>{s.setLoading(!1),s.showSection("Medical"),c.classList.add("active")})}if("serviceWorker"in navigator){const t={}.VITE_SUBDIR?`${{}.VITE_SUBDIR}/sw.js`:"sw.js";navigator.serviceWorker.register(t).then(e=>{console.log("Registration successful, scope is:",e.scope)}).catch(e=>{console.log("Service worker registration failed, error:",e)})}Pt();document.body.appendChild(ue());document.getElementById("tgh-version").appendChild(document.createTextNode({}.VITE_APP_REVISION||"unknown"));
